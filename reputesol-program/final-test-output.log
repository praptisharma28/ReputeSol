
Found a 'test' script in the Anchor.toml. Running it as a test suite!

Running test suite: "/Users/praps/Downloads/ReputeSol/reputesol-program/Anchor.toml"

(node:47290) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///Users/praps/Downloads/ReputeSol/reputesol-program/tests/reputesol-program.test.ts is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /Users/praps/Downloads/ReputeSol/reputesol-program/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)


  ReputeSol Program Tests

âš ï¸  AIRDROP NEEDED:
Test User Wallet: Aobj5f72KUzRjVb4bHZJy6iGSMTAEgiHRwtUioCfRoBc
Waiting 60 seconds for airdrop...

    Initialize User
      âœ” Successfully initializes a new user account (2996ms)
      âœ” Fails to initialize the same user twice (447ms)
    Update Score
      1) Successfully updates score with valid data
      2) Updates score multiple times correctly
ws error: 
      âœ” Correctly handles edge case: all zeros (16896ms)
      âœ” Correctly handles edge case: maximum scores (1693ms)
    Authorization & Security
Server responded with 429 Too Many Requests.  Retrying after 500ms delay...
Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 4000ms delay...
      3) Fails when unauthorized user tries to update score
    Input Validation

ðŸ“ Test: Invalid Gitcoin Score
  âœ… Correctly rejected invalid Gitcoin score (150)
      4) Fails with invalid Gitcoin score (> 100)

ðŸ“ Test: Invalid Solana Score
  âœ… Correctly rejected invalid Solana score (200)
      5) Fails with invalid Solana score (> 100)
    Score Calculation Logic

ðŸ“ Test: Weighted Scoring Formula
      6) Verifies weighted scoring formula

âœ… All tests completed!


  4 passing (3m)
  6 failing

  1) ReputeSol Program Tests
       Update Score
         Successfully updates score with valid data:
     TransactionExpiredTimeoutError: Transaction was not confirmed in 30.00 seconds. It is unknown if it succeeded or failed. Check signature DEeiyyShRhq1yuy1RQRrCbHpT2UxT3yJAMJLQTYmxr3sThDZvJiSU5rdb7cbSsrJcTjaaJ4fvff3dmQeeQW7RSU using the Solana Explorer or CLI tools.
      at Connection.confirmTransactionUsingLegacyTimeoutStrategy (node_modules/@solana/web3.js/src/connection.ts:4248:15)
      at Connection.confirmTransaction (node_modules/@solana/web3.js/src/connection.ts:3859:14)
      at sendAndConfirmRawTransaction (node_modules/@coral-xyz/anchor/src/provider.ts:420:11)
      at AnchorProvider.sendAndConfirm (node_modules/@coral-xyz/anchor/src/provider.ts:167:14)
      at MethodsBuilder.rpc [as _rpcFn] (node_modules/@coral-xyz/anchor/src/program/namespace/rpc.ts:29:16)

  2) ReputeSol Program Tests
       Update Score
         Updates score multiple times correctly:
     TransactionExpiredTimeoutError: Transaction was not confirmed in 30.00 seconds. It is unknown if it succeeded or failed. Check signature 5td5m9t5DyTykiLZ8Sfmgz4YC2j3feTsqpGaSWs9QqvYTjXHGpajgFWsqhiRmViQjdyNbmbgeKigjHBZ6tE9EmgN using the Solana Explorer or CLI tools.
      at Connection.confirmTransactionUsingLegacyTimeoutStrategy (node_modules/@solana/web3.js/src/connection.ts:4248:15)
      at Connection.confirmTransaction (node_modules/@solana/web3.js/src/connection.ts:3859:14)
      at sendAndConfirmRawTransaction (node_modules/@coral-xyz/anchor/src/provider.ts:420:11)
      at AnchorProvider.sendAndConfirm (node_modules/@coral-xyz/anchor/src/provider.ts:167:14)
      at MethodsBuilder.rpc [as _rpcFn] (node_modules/@coral-xyz/anchor/src/program/namespace/rpc.ts:29:16)

  3) ReputeSol Program Tests
       Authorization & Security
         Fails when unauthorized user tries to update score:
     Error: 429 Too Many Requests:  {"jsonrpc":"2.0","error":{"code": 429, "message":"You've either reached your airdrop limit today or the airdrop faucet has run dry. Please visit https://faucet.solana.com for alternate sources of test SOL"}, "id": "8ae17cbf-ceae-4d46-b184-8be53914109d" } 

      at ClientBrowser.callServer (node_modules/@solana/web3.js/src/connection.ts:1703:18)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)

  4) ReputeSol Program Tests
       Input Validation
         Fails with invalid Gitcoin score (> 100):
     AssertionError: Should return InvalidScore error: expected 'Error: Signature verification failed.â€¦' to include 'InvalidScore'
      at /Users/praps/Downloads/ReputeSol/reputesol-program/tests/reputesol-program.test.ts:256:16
      at Generator.throw (<anonymous>)
      at rejected (tests/reputesol-program.test.ts:39:65)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)

  5) ReputeSol Program Tests
       Input Validation
         Fails with invalid Solana score (> 100):
     AssertionError: Should return InvalidScore error: expected 'Error: Signature verification failed.â€¦' to include 'InvalidScore'
      at /Users/praps/Downloads/ReputeSol/reputesol-program/tests/reputesol-program.test.ts:279:16
      at Generator.throw (<anonymous>)
      at rejected (tests/reputesol-program.test.ts:39:65)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)

  6) ReputeSol Program Tests
       Score Calculation Logic
         Verifies weighted scoring formula:
     Error: Signature verification failed.
Missing signature for public key [`GWdzG4dfvjentgRnTX3rVNZBNQA7b67wTxMqvLi5WBaR`].
      at Transaction.serialize (node_modules/@solana/web3.js/src/transaction/legacy.ts:828:15)
      at AnchorProvider.sendAndConfirm (node_modules/@coral-xyz/anchor/src/provider.ts:164:22)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at MethodsBuilder.rpc [as _rpcFn] (node_modules/@coral-xyz/anchor/src/program/namespace/rpc.ts:29:16)



